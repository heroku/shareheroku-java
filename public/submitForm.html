<div id='submitFormDiv'>

    <script type="text/javascript">

        function doSubmit(event) {
            event.preventDefault()

            var formData = {}
            formData['appTemplate.appId'] = $("#appId").val()
            formData['appTemplate.title'] = $("#appTitle").val()
            formData['appTemplate.description'] = $("#description").val()
            formData['appTemplate.demoUrl'] = $("#demoUrl").val()
            formData['appTemplate.sourceUrl'] = $("#sourceUrl").val()
            formData['appTemplate.herokuAppName'] = $("#herokuAppName").val()
            formData['appTemplate.documentationUrl'] = $("#documentationUrl").val()
            formData['appTemplate.instructionsUrl'] = $("#instructionsUrl").val()
            formData['appTemplate.suggestedTags'] = $("#suggestedTags").val()

            $.post("/submitApp", formData, function(data) {
                alert(JSON.stringify(data))
            }, "json").error(function(error) {
                alert(JSON.stringify(error))
            })
        }

        function updateTags() {
            $.each(tags, function(index, item) {
                $("#tagsSelect").append("<option>" + item.name + "</option>")
            })
        }

        updateTags()

        $("#submitForm").bind('submit', doSubmit)

    </script>

    <form id="submitForm" action="/submitApp" method="post" class="form-horizontal">
        <fieldset>
            <legend>Submit an App</legend>
            <div class="control-group">
                <label class="control-label" for="appId">Application ID</label>
                <div class="controls">
                    <input id="appId" name="appTemplate.appId" title="Application ID" type="text" placeholder="foo-bar" class="input-xlarge"/>
                    <span class="help-block">Used for the URL to an app. Can only contain letters, numbers, and dashes.</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="appTitle">Application Title</label>
                <div class="controls">
                    <input id="appTitle" name="appTemplate.title" title="Application Title" type="text" placeholder="Foo Bar" class="input-xlarge"/>
                    <span class="help-block">Short name for the application</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="description">Description</label>
                <div class="controls">
                    <textarea id="description" name="appTemplate.description" rows="5" class="input-xlarge"></textarea>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="suggestedTags">Tags</label>
                <div class="controls">
                    <input id="suggestedTags" name="appTemplate.suggestedTags" title="Tags" type="text" placeholder="Java,Spring Framework,Maven" class="input-xlarge"/>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="demoUrl">Demo URL</label>
                <div class="controls">
                    <input id="demoUrl" name="appTemplate.demoUrl" title="Demo URL" type="text" placeholder="http://foobar.herokuapp.com" class="input-xlarge"/>
                    <span class="help-block">URL to a live demo of the app</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="sourceUrl">Source URL</label>
                <div class="controls">
                    <input id="sourceUrl" name="appTemplate.sourceUrl" title="Source URL" type="text" placeholder="http://github.com/me/foobar" class="input-xlarge"/>
                    <span class="help-block">URL to browse the app source</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="herokuAppName">Git URL</label>
                <div class="controls">
                    <input id="herokuAppName" name="appTemplate.herokuAppName" title="Git URL" type="text" placeholder="git@github.com:foobar.git" class="input-xlarge"/>
                    <span class="help-block">URL to the git source repo</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="documentationUrl">Documentation URL</label>
                <div class="controls">
                    <input id="documentationUrl" name="appTemplate.documentationUrl" title="Documentation URL" type="text" placeholder="http://github.com/me/foobar/README.md" class="input-xlarge"/>
                    <span class="help-block">URL to documentation</span>
                </div>
            </div>

            <div class="control-group">
                <label class="control-label" for="instructionsUrl">Instructions URL</label>
                <div class="controls">
                    <input id="instructionsUrl" name="appTemplate.instructionsUrl" title="Instructions URL" type="text" placeholder="http://github.com/me/foobar/HOWTO.md" class="input-xlarge"/>
                    <span class="help-block">URL to project setup instructions</span>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Submit App</button>
            </div>
        </fieldset>

    </form>

</div>